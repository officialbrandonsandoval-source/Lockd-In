'use client';

import { motion } from 'framer-motion';

interface HeaderProps {
  streakCount?: number;
  onSettingsClick?: () => void;
}

export default function Header({ streakCount = 0, onSettingsClick }: HeaderProps) {
  return (
    <motion.header
      initial={{ y: -20, opacity: 0 }}
      animate={{ y: 0, opacity: 1 }}
      transition={{ duration: 0.4, ease: 'easeOut' }}
      className="sticky top-0 z-40 flex items-center justify-between px-5 py-3"
      style={{
        backgroundColor: 'rgba(10, 10, 10, 0.85)',
        backdropFilter: 'blur(12px)',
        WebkitBackdropFilter: 'blur(12px)',
        borderBottom: '1px solid #2A2A2A',
      }}
    >
      {/* Logo */}
      <h1
        className="font-display text-lg font-bold tracking-wide"
        style={{ color: '#C9A84C' }}
      >
        LOCKD IN
      </h1>

      {/* Right Side: Streak + Settings */}
      <div className="flex items-center gap-4">
        {/* Streak Counter */}
        <motion.div
          className="flex items-center gap-1.5"
          whileTap={{ scale: 0.95 }}
        >
          {/* Fire Icon */}
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12 2C12 2 8.5 7 8.5 11C8.5 13.21 9.79 15.14 11.5 16.24C11.18 15.11 11.5 13.88 12.34 13.04C13.18 12.2 14.5 11.88 15.5 12.24C15.14 9.79 14 7.5 12 2ZM11.71 19C10.56 18.59 9.5 17.79 8.82 16.68C8.14 15.57 7.92 14.34 8.14 13.12C6.59 14.69 6 17.27 7.14 19.44C8.28 21.61 10.65 22.67 12.88 22.18C15.11 21.69 16.84 19.89 17.14 17.64C17.25 16.87 17.2 16.08 16.99 15.33C15.93 17.65 13.99 19.34 11.71 19Z"
              fill="#C9A84C"
            />
          </svg>
          <span
            className="font-sans text-sm font-semibold tabular-nums"
            style={{ color: '#C9A84C' }}
          >
            {streakCount}
          </span>
        </motion.div>

        {/* Settings Gear */}
        <motion.button
          whileHover={{ rotate: 45 }}
          whileTap={{ scale: 0.9 }}
          transition={{ duration: 0.3 }}
          onClick={onSettingsClick}
          className="flex items-center justify-center p-1"
          aria-label="Settings"
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12 15.5C13.933 15.5 15.5 13.933 15.5 12C15.5 10.067 13.933 8.5 12 8.5C10.067 8.5 8.5 10.067 8.5 12C8.5 13.933 10.067 15.5 12 15.5Z"
              stroke="#8A8578"
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
            <path
              d="M19.14 15.1401C19.0422 15.3594 19.0131 15.6023 19.0562 15.838C19.0993 16.0738 19.2128 16.2918 19.382 16.465L19.432 16.515C19.5682 16.6511 19.6762 16.8129 19.7498 16.991C19.8234 17.1691 19.8612 17.3601 19.8612 17.553C19.8612 17.7459 19.8234 17.9369 19.7498 18.115C19.6762 18.2931 19.5682 18.4549 19.432 18.591C19.2959 18.7272 19.1341 18.8352 18.956 18.9088C18.7779 18.9824 18.5869 19.0202 18.394 19.0202C18.2011 19.0202 18.0101 18.9824 17.832 18.9088C17.6539 18.8352 17.4921 18.7272 17.356 18.591L17.306 18.541C17.1328 18.3718 16.9148 18.2583 16.679 18.2152C16.4433 18.1721 16.2004 18.2012 15.981 18.299C15.7659 18.3925 15.5818 18.5468 15.4517 18.7432C15.3215 18.9395 15.2508 19.1694 15.248 19.405V19.555C15.248 19.944 15.0935 20.317 14.8185 20.592C14.5435 20.867 14.1706 21.0215 13.7815 21.0215C13.3925 21.0215 13.0196 20.867 12.7446 20.592C12.4696 20.317 12.315 19.944 12.315 19.555V19.475C12.3079 19.2317 12.2297 18.9957 12.0902 18.7968C11.9507 18.5979 11.756 18.4445 11.53 18.356C11.3107 18.2582 11.0677 18.2291 10.832 18.2722C10.5962 18.3153 10.3782 18.4288 10.205 18.598L10.155 18.648C10.0189 18.7842 9.85706 18.8922 9.67896 18.9658C9.50086 19.0394 9.30986 19.0772 9.11696 19.0772C8.92406 19.0772 8.73306 19.0394 8.55496 18.9658C8.37686 18.8922 8.21502 18.7842 8.07896 18.648C7.94278 18.5119 7.8348 18.3501 7.7612 18.172C7.68759 17.9939 7.64974 17.8029 7.64974 17.61C7.64974 17.4171 7.68759 17.2261 7.7612 17.048C7.8348 16.8699 7.94278 16.7081 8.07896 16.572L8.12896 16.522C8.29819 16.3488 8.4117 16.1308 8.45479 15.895C8.49788 15.6593 8.46882 15.4163 8.37096 15.197C8.27749 14.9819 8.12322 14.7978 7.92688 14.6677C7.73054 14.5375 7.50062 14.4668 7.26496 14.464H7.11496C6.72595 14.464 6.35302 14.3095 6.07797 14.0345C5.80292 13.7594 5.64844 13.3865 5.64844 12.9975C5.64844 12.6085 5.80292 12.2356 6.07797 11.9605C6.35302 11.6855 6.72595 11.531 7.11496 11.531H7.19496C7.43826 11.5239 7.67426 11.4457 7.87316 11.3062C8.07206 11.1667 8.22545 10.972 8.31396 10.746C8.41182 10.5267 8.44088 10.2837 8.39779 10.048C8.3547 9.81222 8.24119 9.59423 8.07196 9.42099L8.02196 9.37099C7.88578 9.23493 7.7778 9.07309 7.7042 8.89499C7.63059 8.71689 7.59274 8.52589 7.59274 8.33299C7.59274 8.14009 7.63059 7.94909 7.7042 7.77099C7.7778 7.59289 7.88578 7.43105 8.02196 7.29499C8.15802 7.15881 8.31986 7.05084 8.49796 6.97723C8.67606 6.90363 8.86706 6.86577 9.05996 6.86577C9.25286 6.86577 9.44386 6.90363 9.62196 6.97723C9.80006 7.05084 9.9619 7.15881 10.098 7.29499L10.148 7.34499C10.3212 7.51422 10.5392 7.62773 10.775 7.67082C11.0107 7.71391 11.2537 7.68485 11.473 7.58699H11.53C11.7451 7.49352 11.9292 7.33925 12.0594 7.14291C12.1895 6.94657 12.2602 6.71665 12.263 6.48099V6.33099C12.263 5.94198 12.4175 5.56905 12.6925 5.294C12.9676 5.01895 13.3405 4.86447 13.7295 4.86447C14.1185 4.86447 14.4914 5.01895 14.7665 5.294C15.0415 5.56905 15.196 5.94198 15.196 6.33099V6.41099C15.1988 6.64665 15.2695 6.87657 15.3997 7.07291C15.5298 7.26925 15.7139 7.42352 15.929 7.51699C16.1483 7.61485 16.3913 7.64391 16.627 7.60082C16.8628 7.55773 17.0808 7.44422 17.254 7.27499L17.304 7.22499C17.4401 7.08881 17.6019 6.98084 17.78 6.90723C17.9581 6.83363 18.1491 6.79577 18.342 6.79577C18.5349 6.79577 18.7259 6.83363 18.904 6.90723C19.0821 6.98084 19.2439 7.08881 19.38 7.22499C19.5162 7.36105 19.6242 7.52289 19.6978 7.70099C19.7714 7.87909 19.8092 8.07009 19.8092 8.26299C19.8092 8.45589 19.7714 8.64689 19.6978 8.82499C19.6242 9.00309 19.5162 9.16493 19.38 9.30099L19.33 9.35099C19.1608 9.52423 19.0473 9.74222 19.0042 9.97798C18.9611 10.2137 18.9902 10.4567 19.088 10.676V10.733C19.1815 10.9481 19.3358 11.1322 19.5321 11.2624C19.7284 11.3925 19.9584 11.4632 20.194 11.466H20.344C20.733 11.466 21.106 11.6205 21.381 11.8955C21.656 12.1706 21.8105 12.5435 21.8105 12.9325C21.8105 13.3215 21.656 13.6944 21.381 13.9695C21.106 14.2445 20.733 14.399 20.344 14.399H20.264C20.0284 14.4018 19.7984 14.4725 19.6021 14.6027C19.4058 14.7328 19.2515 14.9169 19.158 15.132L19.14 15.1401Z"
              stroke="#8A8578"
              strokeWidth="1.5"
              strokeLinecap="round"
              strokeLinejoin="round"
            />
          </svg>
        </motion.button>
      </div>
    </motion.header>
  );
}
